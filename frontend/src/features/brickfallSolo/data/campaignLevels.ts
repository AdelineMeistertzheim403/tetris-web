import type { BrickfallLevel } from "../types/levels";
import { normalizeBrickfallLevel } from "../types/levels";

const WORLDS = 5;
const LEVELS_PER_WORLD = 9;
export const CAMPAIGN_TOTAL_LEVELS = WORLDS * LEVELS_PER_WORLD;

const ROWS = 20;
const COLS = 25;

function mulberry32(seed: number) {
  let t = seed;
  return () => {
    t += 0x6d2b79f5;
    let r = Math.imul(t ^ (t >>> 15), 1 | t);
    r ^= r + Math.imul(r ^ (r >>> 7), 61 | r);
    return ((r ^ (r >>> 14)) >>> 0) / 4294967296;
  };
}

function clamp(v: number, min: number, max: number) {
  return Math.max(min, Math.min(max, v));
}

function toWorldStage(index: number) {
  const world = Math.floor((index - 1) / LEVELS_PER_WORLD) + 1;
  const stage = ((index - 1) % LEVELS_PER_WORLD) + 1;
  return { world, stage };
}

function defaultGeneratedCampaignLevel(levelIndex: number): BrickfallLevel {
  const { world, stage } = toWorldStage(levelIndex);
  const boss = stage === LEVELS_PER_WORLD;
  const rand = mulberry32(levelIndex * 9973 + world * 173 + stage * 37);
  const topOffset = 1;
  const fillRows = clamp(6 + world + Math.floor(stage / 3), 6, 13);
  const densityBase = 0.42 + world * 0.05 + stage * 0.01 + (boss ? 0.1 : 0);
  const density = clamp(densityBase, 0.35, 0.88);

  const bricks: BrickfallLevel["bricks"] = [];
  for (let y = 0; y < fillRows; y += 1) {
    for (let x = 0; x < COLS; x += 1) {
      if (rand() > density) continue;
      if (x % 2 === 0 && y % 4 === 0 && rand() < 0.2) continue;
      bricks.push({ x, y: y + topOffset, type: "normal", hp: 1 });
    }
  }

  const order = [...bricks].sort(
    (a, b) => (a.y * COLS + a.x) - (b.y * COLS + b.x)
  );
  const markCount = (count: number, cb: (idx: number) => void) => {
    for (let i = 0; i < Math.min(count, order.length); i += 1) cb(i);
  };

  markCount(clamp(world + 1, 1, 8), (i) => {
    const b = order[i];
    b.type = "armor";
    b.hp = rand() < 0.5 ? 2 : 3;
  });
  markCount(clamp(1 + Math.floor(stage / 3), 1, 4), (i) => {
    const b = order[order.length - 1 - i];
    b.type = "bonus";
    b.drop = "random";
  });
  markCount(clamp(world >= 2 ? 2 : 1, 1, 5), (i) => {
    const b = order[Math.floor(order.length / 2) + i];
    if (!b) return;
    b.type = "malus";
  });
  markCount(boss ? 5 : clamp(Math.floor(world / 2), 0, 3), (i) => {
    const b = order[(i * 7) % Math.max(1, order.length)];
    if (!b) return;
    b.type = "explosive";
  });

  return {
    id: `bf-solo-${levelIndex}`,
    name: `Monde ${world} - Niveau ${stage}${boss ? " (Boss)" : ""}`,
    width: COLS,
    height: ROWS,
    bricks,
    boss,
  };
}

type LevelBalanceMetrics = {
  brickCount: number;
  totalHp: number;
  malusCount: number;
  malusDensity: number;
  bonusDrops: number;
  explosiveCount: number;
  armorCount: number;
};

type World2Target = {
  totalHp: number;
  malusDensity: number;
  bonusDrops: number;
  explosiveCount: number;
};

const WORLD2_TARGETS: Record<number, World2Target> = {
  1: { totalHp: 32, malusDensity: 0.05, bonusDrops: 2, explosiveCount: 1 },
  2: { totalHp: 38, malusDensity: 0.08, bonusDrops: 2, explosiveCount: 2 },
  3: { totalHp: 44, malusDensity: 0.09, bonusDrops: 2, explosiveCount: 2 },
  4: { totalHp: 48, malusDensity: 0.10, bonusDrops: 3, explosiveCount: 2 },
  5: { totalHp: 52, malusDensity: 0.12, bonusDrops: 3, explosiveCount: 3 },
  6: { totalHp: 52, malusDensity: 0.14, bonusDrops: 4, explosiveCount: 3 },
  7: { totalHp: 53, malusDensity: 0.16, bonusDrops: 4, explosiveCount: 3 },
  8: { totalHp: 54, malusDensity: 0.17, bonusDrops: 4, explosiveCount: 4 },
  9: { totalHp: 74, malusDensity: 0.20, bonusDrops: 5, explosiveCount: 5 },
};

function computeLevelMetrics(level: BrickfallLevel): LevelBalanceMetrics {
  const brickCount = level.bricks.length;
  let totalHp = 0;
  let malusCount = 0;
  let bonusDrops = 0;
  let explosiveCount = 0;
  let armorCount = 0;
  for (const b of level.bricks) {
    const hp = b.type === "armor" ? Math.max(2, Math.floor(b.hp ?? 3)) : 1;
    totalHp += hp;
    if (b.type === "malus") malusCount += 1;
    if (b.type === "bonus") bonusDrops += 1;
    if (b.type === "explosive") explosiveCount += 1;
    if (b.type === "armor") armorCount += 1;
  }
  const malusDensity = brickCount > 0 ? malusCount / brickCount : 0;
  return {
    brickCount,
    totalHp,
    malusCount,
    malusDensity,
    bonusDrops,
    explosiveCount,
    armorCount,
  };
}

function rebalanceWorld2Level(base: BrickfallLevel, stage: number): BrickfallLevel {
  const target = WORLD2_TARGETS[stage];
  if (!target) return base;
  const sorted = [...base.bricks]
    .map((b) => ({ ...b }))
    .sort((a, b) => (a.y - b.y) || (a.x - b.x));

  const assigned = new Set<number>();
  const out: BrickfallLevel["bricks"] = sorted.map((b) => ({
    ...b,
    type: "normal",
    hp: 1,
    drop: undefined,
  }));

  const takeFromOrder = (order: number[], count: number) => {
    const picked: number[] = [];
    for (const idx of order) {
      if (picked.length >= count) break;
      if (idx < 0 || idx >= out.length) continue;
      if (assigned.has(idx)) continue;
      assigned.add(idx);
      picked.push(idx);
    }
    return picked;
  };

  const n = out.length;
  const orderBonus = Array.from({ length: n }, (_, i) => n - 1 - i);
  const orderMalus = Array.from({ length: n }, (_, i) =>
    i % 2 === 0 ? Math.floor(n / 2) + Math.floor(i / 2) : Math.floor(n / 2) - Math.ceil(i / 2)
  );
  const orderExplosive = Array.from({ length: n }, (_, i) => (i * 3) % Math.max(1, n));
  const orderArmor = Array.from({ length: n }, (_, i) => i);

  const malusCountTarget = Math.min(
    n,
    Math.max(0, Math.round(target.malusDensity * n))
  );
  const bonusCountTarget = Math.min(n, Math.max(0, target.bonusDrops));
  const explosiveCountTarget = Math.min(n, Math.max(0, target.explosiveCount));

  for (const idx of takeFromOrder(orderBonus, bonusCountTarget)) {
    out[idx].type = "bonus";
    out[idx].drop = "random";
    out[idx].hp = 1;
  }
  for (const idx of takeFromOrder(orderMalus, malusCountTarget)) {
    out[idx].type = "malus";
    out[idx].hp = 1;
  }
  for (const idx of takeFromOrder(orderExplosive, explosiveCountTarget)) {
    out[idx].type = "explosive";
    out[idx].hp = 1;
  }

  const baseHp = out.length;
  let extraHpNeeded = Math.max(0, target.totalHp - baseHp);

  for (const idx of takeFromOrder(orderArmor, out.length)) {
    if (extraHpNeeded <= 0) break;
    out[idx].type = "armor";
    out[idx].drop = undefined;
    if (extraHpNeeded >= 2) {
      out[idx].hp = 3;
      extraHpNeeded -= 2;
    } else {
      out[idx].hp = 2;
      extraHpNeeded -= 1;
    }
  }

  return {
    ...base,
    bricks: out,
  };
}

export function getWorld2Difficulty(levelIndex: number): LevelBalanceMetrics | null {
  if (levelIndex < 10 || levelIndex > 18) return null;
  const stage = levelIndex - 9;
  const raw = MANUAL_CAMPAIGN_LEVELS[levelIndex];
  if (!raw) return null;
  const level = rebalanceWorld2Level(normalizeBrickfallLevel(raw), stage);
  return computeLevelMetrics(level);
}

// Tu peux definir ici tes niveaux manuellement par index (1..45).
// Exemple:
// 1: {
//   id: "world1-level1",
//   name: "Monde 1 - Niveau 1",
//   width: 25,
//   height: 20,
//   boss: false,
//   bricks: [
//     { x: 8, y: 2, type: "normal" },
//     { x: 9, y: 2, type: "normal" },
//     { x: 10, y: 2, type: "armor", hp: 3 },
//   ],
// },
const MANUAL_CAMPAIGN_LEVELS: Partial<Record<number, BrickfallLevel>> = {
  1: {
    id: "w1-n1",
    name: "Monde 1 - Niveau 1",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 9, y: 2, type: "normal" },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "normal" },
      { x: 13, y: 2, type: "normal" },
      { x: 10, y: 3, type: "normal" },
      { x: 11, y: 3, type: "normal" },
      { x: 12, y: 3, type: "normal" },
      { x: 6, y: 4, type: "normal" },
      { x: 7, y: 4, type: "normal" },
      { x: 8, y: 4, type: "normal" },
      { x: 9, y: 4, type: "normal" },
      { x: 10, y: 4, type: "normal" },
      { x: 11, y: 4, type: "normal" },
      { x: 12, y: 4, type: "normal" },
      { x: 13, y: 4, type: "normal" },
      { x: 14, y: 4, type: "normal" },
      { x: 15, y: 4, type: "normal" },
      { x: 16, y: 4, type: "normal" },
      { x: 17, y: 4, type: "normal" },
    ],
  },
  2: {
    id: "w1-n2",
    name: "Monde 1 - Niveau 2",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "normal" },
      { x: 6, y: 2, type: "normal" },
      { x: 7, y: 2, type: "normal" },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "normal" },
      { x: 15, y: 2, type: "normal" },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "normal" },
      { x: 18, y: 2, type: "normal" },
      { x: 19, y: 2, type: "normal" },
      { x: 6, y: 3, type: "normal" },
      { x: 7, y: 3, type: "normal" },
      { x: 8, y: 3, type: "normal" },
      { x: 16, y: 3, type: "normal" },
      { x: 17, y: 3, type: "normal" },
      { x: 18, y: 3, type: "normal" },
      { x: 8, y: 5, type: "armor", hp: 2 },
      { x: 12, y: 5, type: "armor", hp: 2 },
      { x: 16, y: 5, type: "armor", hp: 2 },
      { x: 10, y: 6, type: "bonus", drop: "random" },
      { x: 14, y: 6, type: "bonus", drop: "random" },
      { x: 11, y: 7, type: "normal" },
      { x: 12, y: 7, type: "normal" },
      { x: 13, y: 7, type: "normal" },
    ],
  },
  3: {
    id: "w1-n3",
    name: "Monde 1 - Niveau 3",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 3, y: 2, type: "normal" },
      { x: 4, y: 2, type: "normal" },
      { x: 5, y: 2, type: "normal" },
      { x: 6, y: 2, type: "normal" },
      { x: 7, y: 2, type: "normal" },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "normal" },
      { x: 10, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "normal" },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "normal" },
      { x: 18, y: 2, type: "normal" },
      { x: 19, y: 2, type: "normal" },
      { x: 20, y: 2, type: "normal" },
      { x: 21, y: 2, type: "normal" },
      { x: 6, y: 4, type: "armor", hp: 2 },
      { x: 9, y: 4, type: "armor", hp: 2 },
      { x: 12, y: 4, type: "malus" },
      { x: 15, y: 4, type: "armor", hp: 2 },
      { x: 18, y: 4, type: "armor", hp: 2 },
      { x: 10, y: 6, type: "bonus", drop: "random" },
      { x: 11, y: 6, type: "normal" },
      { x: 12, y: 6, type: "normal" },
      { x: 13, y: 6, type: "bonus", drop: "random" },
    ],
  },
  4: {
    id: "w1-n4",
    name: "Monde 1 - Niveau 4",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "normal" },
      { x: 6, y: 2, type: "normal" },
      { x: 7, y: 2, type: "normal" },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "normal" },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "normal" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "normal" },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "normal" },
      { x: 18, y: 2, type: "normal" },
      { x: 6, y: 3, type: "armor", hp: 2 },
      { x: 8, y: 3, type: "armor", hp: 2 },
      { x: 10, y: 3, type: "armor", hp: 2 },
      { x: 12, y: 3, type: "armor", hp: 2 },
      { x: 14, y: 3, type: "armor", hp: 2 },
      { x: 16, y: 3, type: "armor", hp: 2 },
      { x: 18, y: 3, type: "armor", hp: 2 },
      { x: 9, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 15, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "malus" },
    ],
  },
  5: {
    id: "w1-n5",
    name: "Monde 1 - Niveau 5",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 4, y: 2, type: "normal" },
      { x: 5, y: 2, type: "normal" },
      { x: 6, y: 2, type: "normal" },
      { x: 7, y: 2, type: "normal" },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "normal" },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "normal" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "normal" },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "normal" },
      { x: 18, y: 2, type: "normal" },
      { x: 19, y: 2, type: "normal" },
      { x: 20, y: 2, type: "normal" },
      { x: 8, y: 4, type: "explosive" },
      { x: 12, y: 4, type: "armor", hp: 3 },
      { x: 16, y: 4, type: "explosive" },
      { x: 9, y: 5, type: "normal" },
      { x: 10, y: 5, type: "normal" },
      { x: 11, y: 5, type: "normal" },
      { x: 12, y: 5, type: "normal" },
      { x: 13, y: 5, type: "normal" },
      { x: 14, y: 5, type: "normal" },
      { x: 15, y: 5, type: "normal" },
      { x: 11, y: 6, type: "bonus", drop: "random" },
      { x: 13, y: 6, type: "bonus", drop: "random" },
    ],
  },
  6: {
    id: "w1-n6",
    name: "Monde 1 - Niveau 6",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 2 },
      { x: 6, y: 2, type: "armor", hp: 2 },
      { x: 7, y: 2, type: "normal" },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "normal" },
      { x: 10, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "normal" },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "normal" },
      { x: 18, y: 2, type: "armor", hp: 2 },
      { x: 19, y: 2, type: "armor", hp: 2 },
      { x: 7, y: 3, type: "malus" },
      { x: 9, y: 3, type: "explosive" },
      { x: 11, y: 3, type: "armor", hp: 3 },
      { x: 13, y: 3, type: "armor", hp: 3 },
      { x: 15, y: 3, type: "explosive" },
      { x: 17, y: 3, type: "malus" },
      { x: 9, y: 5, type: "normal" },
      { x: 10, y: 5, type: "normal" },
      { x: 11, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 13, y: 5, type: "normal" },
      { x: 14, y: 5, type: "normal" },
    ],
  },
  7: {
    id: "w1-n7",
    name: "Monde 1 - Niveau 7",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 4, y: 2, type: "normal" },
      { x: 5, y: 2, type: "normal" },
      { x: 6, y: 2, type: "normal" },
      { x: 7, y: 2, type: "normal" },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "normal" },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "normal" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "normal" },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "normal" },
      { x: 18, y: 2, type: "normal" },
      { x: 19, y: 2, type: "normal" },
      { x: 20, y: 2, type: "normal" },
      { x: 6, y: 4, type: "armor", hp: 3 },
      { x: 8, y: 4, type: "armor", hp: 3 },
      { x: 10, y: 4, type: "explosive" },
      { x: 12, y: 4, type: "malus" },
      { x: 14, y: 4, type: "explosive" },
      { x: 16, y: 4, type: "armor", hp: 3 },
      { x: 18, y: 4, type: "armor", hp: 3 },
      { x: 10, y: 6, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "bonus", drop: "random" },
      { x: 14, y: 6, type: "bonus", drop: "random" },
    ],
  },
  8: {
    id: "w1-n8",
    name: "Monde 1 - Niveau 8",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 2 },
      { x: 6, y: 2, type: "normal" },
      { x: 7, y: 2, type: "normal" },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "normal" },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "normal" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "normal" },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "normal" },
      { x: 18, y: 2, type: "normal" },
      { x: 19, y: 2, type: "armor", hp: 2 },
      { x: 7, y: 3, type: "explosive" },
      { x: 9, y: 3, type: "armor", hp: 3 },
      { x: 11, y: 3, type: "malus" },
      { x: 13, y: 3, type: "malus" },
      { x: 15, y: 3, type: "armor", hp: 3 },
      { x: 17, y: 3, type: "explosive" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 7, type: "armor", hp: 3 },
    ],
  },
  9: {
    id: "w1-n9-boss",
    name: "Monde 1 - Niveau 9 (Boss)",
    width: 25,
    height: 20,
    boss: true,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 3 },
      { x: 6, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 2, type: "explosive" },
      { x: 9, y: 2, type: "normal" },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "malus" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "normal" },
      { x: 16, y: 2, type: "explosive" },
      { x: 17, y: 2, type: "armor", hp: 3 },
      { x: 18, y: 2, type: "armor", hp: 3 },
      { x: 19, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 3, type: "explosive" },
      { x: 8, y: 3, type: "normal" },
      { x: 9, y: 3, type: "armor", hp: 2 },
      { x: 10, y: 3, type: "normal" },
      { x: 11, y: 3, type: "bonus", drop: "random" },
      { x: 12, y: 3, type: "armor", hp: 3 },
      { x: 13, y: 3, type: "bonus", drop: "random" },
      { x: 14, y: 3, type: "normal" },
      { x: 15, y: 3, type: "armor", hp: 2 },
      { x: 16, y: 3, type: "normal" },
      { x: 17, y: 3, type: "explosive" },
      { x: 9, y: 4, type: "malus" },
      { x: 10, y: 4, type: "normal" },
      { x: 11, y: 4, type: "explosive" },
      { x: 12, y: 4, type: "armor", hp: 3 },
      { x: 13, y: 4, type: "explosive" },
      { x: 14, y: 4, type: "normal" },
      { x: 15, y: 4, type: "malus" },
      { x: 11, y: 5, type: "armor", hp: 3 },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 13, y: 5, type: "armor", hp: 3 },
      { x: 12, y: 6, type: "explosive" },
    ],
  },
  10: {
    id: "w2-n1",
    name: "Monde 2 - Niveau 1",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 6, y: 2, type: "armor", hp: 2 },
      { x: 7, y: 2, type: "armor", hp: 2 },
      { x: 8, y: 2, type: "armor", hp: 2 },
      { x: 9, y: 2, type: "normal" },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "normal" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "normal" },
      { x: 16, y: 2, type: "armor", hp: 2 },
      { x: 17, y: 2, type: "armor", hp: 2 },
      { x: 18, y: 2, type: "armor", hp: 2 },
      { x: 8, y: 3, type: "armor", hp: 2 },
      { x: 12, y: 3, type: "malus" },
      { x: 16, y: 3, type: "armor", hp: 2 },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "armor", hp: 3 },
      { x: 14, y: 5, type: "bonus", drop: "random" },
    ],
  },
  11: {
    id: "w2-n2",
    name: "Monde 2 - Niveau 2",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 2 },
      { x: 6, y: 2, type: "armor", hp: 2 },
      { x: 7, y: 2, type: "armor", hp: 2 },
      { x: 8, y: 2, type: "armor", hp: 2 },
      { x: 9, y: 2, type: "normal" },
      { x: 10, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "normal" },
      { x: 16, y: 2, type: "armor", hp: 2 },
      { x: 17, y: 2, type: "armor", hp: 2 },
      { x: 18, y: 2, type: "armor", hp: 2 },
      { x: 19, y: 2, type: "armor", hp: 2 },
      { x: 7, y: 3, type: "explosive" },
      { x: 9, y: 3, type: "armor", hp: 3 },
      { x: 11, y: 3, type: "armor", hp: 3 },
      { x: 13, y: 3, type: "armor", hp: 3 },
      { x: 15, y: 3, type: "armor", hp: 3 },
      { x: 17, y: 3, type: "explosive" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 11, y: 5, type: "normal" },
      { x: 12, y: 5, type: "malus" },
      { x: 13, y: 5, type: "normal" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
    ],
  },
  12: {
    id: "w2-n3",
    name: "Monde 2 - Niveau 3",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 6, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 2, type: "armor", hp: 3 },
      { x: 9, y: 2, type: "armor", hp: 3 },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "normal" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "armor", hp: 3 },
      { x: 16, y: 2, type: "armor", hp: 3 },
      { x: 17, y: 2, type: "armor", hp: 3 },
      { x: 18, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 3, type: "malus" },
      { x: 12, y: 3, type: "armor", hp: 3 },
      { x: 16, y: 3, type: "malus" },
      { x: 9, y: 5, type: "explosive" },
      { x: 10, y: 5, type: "armor", hp: 2 },
      { x: 11, y: 5, type: "armor", hp: 2 },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 13, y: 5, type: "armor", hp: 2 },
      { x: 14, y: 5, type: "armor", hp: 2 },
      { x: 15, y: 5, type: "explosive" },
    ],
  },
  13: {
    id: "w2-n4",
    name: "Monde 2 - Niveau 4",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 4, y: 2, type: "armor", hp: 2 },
      { x: 5, y: 2, type: "armor", hp: 2 },
      { x: 6, y: 2, type: "armor", hp: 2 },
      { x: 7, y: 2, type: "normal" },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "normal" },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "normal" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "normal" },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "normal" },
      { x: 18, y: 2, type: "armor", hp: 2 },
      { x: 19, y: 2, type: "armor", hp: 2 },
      { x: 20, y: 2, type: "armor", hp: 2 },
      { x: 8, y: 3, type: "armor", hp: 3 },
      { x: 10, y: 3, type: "armor", hp: 3 },
      { x: 12, y: 3, type: "malus" },
      { x: 14, y: 3, type: "armor", hp: 3 },
      { x: 16, y: 3, type: "armor", hp: 3 },
      { x: 11, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 13, y: 5, type: "bonus", drop: "random" },
    ],
  },
  14: {
    id: "w2-n5",
    name: "Monde 2 - Niveau 5",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 3 },
      { x: 6, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 2, type: "armor", hp: 3 },
      { x: 9, y: 2, type: "normal" },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "normal" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "normal" },
      { x: 16, y: 2, type: "armor", hp: 3 },
      { x: 17, y: 2, type: "armor", hp: 3 },
      { x: 18, y: 2, type: "armor", hp: 3 },
      { x: 19, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 3, type: "explosive" },
      { x: 9, y: 3, type: "armor", hp: 3 },
      { x: 11, y: 3, type: "malus" },
      { x: 13, y: 3, type: "malus" },
      { x: 15, y: 3, type: "armor", hp: 3 },
      { x: 17, y: 3, type: "explosive" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "armor", hp: 3 },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "explosive" },
    ],
  },
  15: {
    id: "w2-n6",
    name: "Monde 2 - Niveau 6",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 4, y: 2, type: "armor", hp: 2 },
      { x: 5, y: 2, type: "armor", hp: 2 },
      { x: 6, y: 2, type: "armor", hp: 2 },
      { x: 7, y: 2, type: "armor", hp: 2 },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "normal" },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "normal" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "normal" },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "armor", hp: 2 },
      { x: 18, y: 2, type: "armor", hp: 2 },
      { x: 19, y: 2, type: "armor", hp: 2 },
      { x: 20, y: 2, type: "armor", hp: 2 },
      { x: 7, y: 3, type: "malus" },
      { x: 9, y: 3, type: "armor", hp: 3 },
      { x: 11, y: 3, type: "explosive" },
      { x: 13, y: 3, type: "explosive" },
      { x: 15, y: 3, type: "armor", hp: 3 },
      { x: 17, y: 3, type: "malus" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 11, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "armor", hp: 3 },
      { x: 13, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
    ],
  },
  16: {
    id: "w2-n7",
    name: "Monde 2 - Niveau 7",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 6, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 2, type: "armor", hp: 3 },
      { x: 9, y: 2, type: "armor", hp: 3 },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "normal" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "armor", hp: 3 },
      { x: 16, y: 2, type: "armor", hp: 3 },
      { x: 17, y: 2, type: "armor", hp: 3 },
      { x: 18, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 3, type: "explosive" },
      { x: 10, y: 3, type: "malus" },
      { x: 12, y: 3, type: "armor", hp: 3 },
      { x: 14, y: 3, type: "malus" },
      { x: 16, y: 3, type: "explosive" },
      { x: 9, y: 5, type: "armor", hp: 3 },
      { x: 10, y: 5, type: "armor", hp: 3 },
      { x: 11, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 13, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "armor", hp: 3 },
      { x: 15, y: 5, type: "armor", hp: 3 },
    ],
  },
  17: {
    id: "w2-n8",
    name: "Monde 2 - Niveau 8",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 3 },
      { x: 6, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 2, type: "armor", hp: 3 },
      { x: 9, y: 2, type: "armor", hp: 2 },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "normal" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "armor", hp: 2 },
      { x: 16, y: 2, type: "armor", hp: 3 },
      { x: 17, y: 2, type: "armor", hp: 3 },
      { x: 18, y: 2, type: "armor", hp: 3 },
      { x: 19, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 3, type: "malus" },
      { x: 9, y: 3, type: "explosive" },
      { x: 10, y: 3, type: "armor", hp: 3 },
      { x: 12, y: 3, type: "armor", hp: 3 },
      { x: 14, y: 3, type: "armor", hp: 3 },
      { x: 15, y: 3, type: "explosive" },
      { x: 16, y: 3, type: "malus" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "armor", hp: 3 },
    ],
  },
  18: {
    id: "w2-n9-boss",
    name: "Monde 2 - Niveau 9 (Boss Blindage)",
    width: 25,
    height: 20,
    boss: true,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 3 },
      { x: 6, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 2, type: "armor", hp: 3 },
      { x: 9, y: 2, type: "armor", hp: 3 },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "malus" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "armor", hp: 3 },
      { x: 16, y: 2, type: "armor", hp: 3 },
      { x: 17, y: 2, type: "armor", hp: 3 },
      { x: 18, y: 2, type: "armor", hp: 3 },
      { x: 19, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 3, type: "explosive" },
      { x: 8, y: 3, type: "armor", hp: 3 },
      { x: 9, y: 3, type: "armor", hp: 3 },
      { x: 10, y: 3, type: "malus" },
      { x: 11, y: 3, type: "armor", hp: 3 },
      { x: 12, y: 3, type: "armor", hp: 3 },
      { x: 13, y: 3, type: "armor", hp: 3 },
      { x: 14, y: 3, type: "malus" },
      { x: 15, y: 3, type: "armor", hp: 3 },
      { x: 16, y: 3, type: "armor", hp: 3 },
      { x: 17, y: 3, type: "explosive" },
      { x: 9, y: 4, type: "armor", hp: 3 },
      { x: 10, y: 4, type: "explosive" },
      { x: 11, y: 4, type: "armor", hp: 3 },
      { x: 12, y: 4, type: "bonus", drop: "random" },
      { x: 13, y: 4, type: "armor", hp: 3 },
      { x: 14, y: 4, type: "explosive" },
      { x: 15, y: 4, type: "armor", hp: 3 },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 11, y: 5, type: "armor", hp: 3 },
      { x: 12, y: 5, type: "armor", hp: 3 },
      { x: 13, y: 5, type: "armor", hp: 3 },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "explosive" },
    ],
  },
  19: {
    id: "w3-n1",
    name: "Monde 3 - Niveau 1",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 6, y: 2, type: "normal" },
      { x: 7, y: 2, type: "normal" },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "normal" },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "malus" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "normal" },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "normal" },
      { x: 18, y: 2, type: "normal" },
      { x: 8, y: 3, type: "explosive" },
      { x: 10, y: 3, type: "armor", hp: 2 },
      { x: 12, y: 3, type: "bonus", drop: "random" },
      { x: 14, y: 3, type: "armor", hp: 2 },
      { x: 16, y: 3, type: "explosive" },
      { x: 11, y: 5, type: "malus" },
      { x: 13, y: 5, type: "bonus", drop: "random" },
    ],
  },
  20: {
    id: "w3-n2",
    name: "Monde 3 - Niveau 2",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "normal" },
      { x: 6, y: 2, type: "normal" },
      { x: 7, y: 2, type: "normal" },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "armor", hp: 2 },
      { x: 10, y: 2, type: "armor", hp: 2 },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "malus" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "armor", hp: 2 },
      { x: 15, y: 2, type: "armor", hp: 2 },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "normal" },
      { x: 18, y: 2, type: "normal" },
      { x: 19, y: 2, type: "normal" },
      { x: 8, y: 3, type: "explosive" },
      { x: 9, y: 3, type: "malus" },
      { x: 10, y: 3, type: "explosive" },
      { x: 14, y: 3, type: "explosive" },
      { x: 15, y: 3, type: "malus" },
      { x: 16, y: 3, type: "explosive" },
      { x: 11, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 13, y: 5, type: "bonus", drop: "random" },
    ],
  },
  21: {
    id: "w3-n3",
    name: "Monde 3 - Niveau 3",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 6, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 2, type: "normal" },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "malus" },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "explosive" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "malus" },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "normal" },
      { x: 18, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 3, type: "explosive" },
      { x: 9, y: 3, type: "armor", hp: 2 },
      { x: 10, y: 3, type: "malus" },
      { x: 11, y: 3, type: "explosive" },
      { x: 13, y: 3, type: "explosive" },
      { x: 14, y: 3, type: "malus" },
      { x: 15, y: 3, type: "armor", hp: 2 },
      { x: 16, y: 3, type: "explosive" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "armor", hp: 3 },
    ],
  },
  22: {
    id: "w3-n4",
    name: "Monde 3 - Niveau 4",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "normal" },
      { x: 6, y: 2, type: "normal" },
      { x: 7, y: 2, type: "armor", hp: 2 },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "malus" },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "explosive" },
      { x: 12, y: 2, type: "normal" },
      { x: 13, y: 2, type: "explosive" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "malus" },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "armor", hp: 2 },
      { x: 18, y: 2, type: "normal" },
      { x: 19, y: 2, type: "normal" },
      { x: 7, y: 3, type: "explosive" },
      { x: 9, y: 3, type: "explosive" },
      { x: 11, y: 3, type: "armor", hp: 3 },
      { x: 13, y: 3, type: "armor", hp: 3 },
      { x: 15, y: 3, type: "explosive" },
      { x: 17, y: 3, type: "explosive" },
      { x: 11, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "malus" },
      { x: 13, y: 5, type: "bonus", drop: "random" },
    ],
  },
  23: {
    id: "w3-n5",
    name: "Monde 3 - Niveau 5",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 6, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 2, type: "armor", hp: 2 },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "malus" },
      { x: 10, y: 2, type: "explosive" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "normal" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "explosive" },
      { x: 15, y: 2, type: "malus" },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "armor", hp: 2 },
      { x: 18, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 3, type: "malus" },
      { x: 9, y: 3, type: "explosive" },
      { x: 10, y: 3, type: "armor", hp: 3 },
      { x: 11, y: 3, type: "explosive" },
      { x: 13, y: 3, type: "explosive" },
      { x: 14, y: 3, type: "armor", hp: 3 },
      { x: 15, y: 3, type: "explosive" },
      { x: 16, y: 3, type: "malus" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 11, y: 5, type: "bonus", drop: "random" },
      { x: 13, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "malus" },
    ],
  },
  24: {
    id: "w3-n6",
    name: "Monde 3 - Niveau 6",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 3 },
      { x: 6, y: 2, type: "normal" },
      { x: 7, y: 2, type: "malus" },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "explosive" },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "armor", hp: 2 },
      { x: 12, y: 2, type: "malus" },
      { x: 13, y: 2, type: "armor", hp: 2 },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "explosive" },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "malus" },
      { x: 18, y: 2, type: "normal" },
      { x: 19, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 3, type: "explosive" },
      { x: 8, y: 3, type: "armor", hp: 3 },
      { x: 10, y: 3, type: "explosive" },
      { x: 12, y: 3, type: "bonus", drop: "random" },
      { x: 14, y: 3, type: "explosive" },
      { x: 16, y: 3, type: "armor", hp: 3 },
      { x: 17, y: 3, type: "explosive" },
      { x: 11, y: 5, type: "bonus", drop: "random" },
      { x: 13, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "malus" },
    ],
  },
  25: {
    id: "w3-n7",
    name: "Monde 3 - Niveau 7",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 6, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 2, type: "malus" },
      { x: 8, y: 2, type: "explosive" },
      { x: 9, y: 2, type: "armor", hp: 2 },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "malus" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "armor", hp: 2 },
      { x: 16, y: 2, type: "explosive" },
      { x: 17, y: 2, type: "malus" },
      { x: 18, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 3, type: "explosive" },
      { x: 9, y: 3, type: "armor", hp: 3 },
      { x: 10, y: 3, type: "malus" },
      { x: 11, y: 3, type: "explosive" },
      { x: 13, y: 3, type: "explosive" },
      { x: 14, y: 3, type: "malus" },
      { x: 15, y: 3, type: "armor", hp: 3 },
      { x: 16, y: 3, type: "explosive" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "explosive" },
    ],
  },
  26: {
    id: "w3-n8",
    name: "Monde 3 - Niveau 8",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 3 },
      { x: 6, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 2, type: "malus" },
      { x: 8, y: 2, type: "explosive" },
      { x: 9, y: 2, type: "armor", hp: 3 },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "malus" },
      { x: 12, y: 2, type: "explosive" },
      { x: 13, y: 2, type: "malus" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "armor", hp: 3 },
      { x: 16, y: 2, type: "explosive" },
      { x: 17, y: 2, type: "malus" },
      { x: 18, y: 2, type: "armor", hp: 3 },
      { x: 19, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 3, type: "explosive" },
      { x: 9, y: 3, type: "armor", hp: 3 },
      { x: 10, y: 3, type: "malus" },
      { x: 11, y: 3, type: "explosive" },
      { x: 13, y: 3, type: "explosive" },
      { x: 14, y: 3, type: "malus" },
      { x: 15, y: 3, type: "armor", hp: 3 },
      { x: 16, y: 3, type: "explosive" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 11, y: 5, type: "bonus", drop: "random" },
      { x: 13, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "malus" },
    ],
  },
  27: {
    id: "w3-n9-boss",
    name: "Monde 3 - Niveau 9 (Boss Chaos)",
    width: 25,
    height: 20,
    boss: true,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 3 },
      { x: 6, y: 2, type: "malus" },
      { x: 7, y: 2, type: "explosive" },
      { x: 8, y: 2, type: "armor", hp: 3 },
      { x: 9, y: 2, type: "malus" },
      { x: 10, y: 2, type: "explosive" },
      { x: 11, y: 2, type: "armor", hp: 3 },
      { x: 12, y: 2, type: "malus" },
      { x: 13, y: 2, type: "armor", hp: 3 },
      { x: 14, y: 2, type: "explosive" },
      { x: 15, y: 2, type: "malus" },
      { x: 16, y: 2, type: "armor", hp: 3 },
      { x: 17, y: 2, type: "explosive" },
      { x: 18, y: 2, type: "malus" },
      { x: 19, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 3, type: "explosive" },
      { x: 8, y: 3, type: "armor", hp: 3 },
      { x: 9, y: 3, type: "malus" },
      { x: 10, y: 3, type: "explosive" },
      { x: 11, y: 3, type: "armor", hp: 3 },
      { x: 12, y: 3, type: "bonus", drop: "random" },
      { x: 13, y: 3, type: "armor", hp: 3 },
      { x: 14, y: 3, type: "explosive" },
      { x: 15, y: 3, type: "malus" },
      { x: 16, y: 3, type: "armor", hp: 3 },
      { x: 17, y: 3, type: "explosive" },
      { x: 9, y: 4, type: "malus" },
      { x: 10, y: 4, type: "explosive" },
      { x: 11, y: 4, type: "armor", hp: 3 },
      { x: 12, y: 4, type: "bonus", drop: "random" },
      { x: 13, y: 4, type: "armor", hp: 3 },
      { x: 14, y: 4, type: "explosive" },
      { x: 15, y: 4, type: "malus" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 11, y: 5, type: "bonus", drop: "random" },
      { x: 13, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "explosive" },
    ],
  },
  28: {
    id: "w4-n1",
    name: "Monde 4 - Niveau 1",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 6, y: 2, type: "normal" },
      { x: 7, y: 2, type: "normal" },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "malus" },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "explosive" },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "malus" },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "normal" },
      { x: 18, y: 2, type: "normal" },
      { x: 9, y: 3, type: "explosive" },
      { x: 12, y: 3, type: "armor", hp: 2 },
      { x: 15, y: 3, type: "explosive" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "malus" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
    ],
  },
  29: {
    id: "w4-n2",
    name: "Monde 4 - Niveau 2",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "normal" },
      { x: 6, y: 2, type: "normal" },
      { x: 7, y: 2, type: "malus" },
      { x: 8, y: 2, type: "normal" },
      { x: 9, y: 2, type: "explosive" },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "armor", hp: 2 },
      { x: 12, y: 2, type: "malus" },
      { x: 13, y: 2, type: "armor", hp: 2 },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "explosive" },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "malus" },
      { x: 18, y: 2, type: "normal" },
      { x: 19, y: 2, type: "normal" },
      { x: 8, y: 3, type: "explosive" },
      { x: 10, y: 3, type: "malus" },
      { x: 12, y: 3, type: "armor", hp: 3 },
      { x: 14, y: 3, type: "malus" },
      { x: 16, y: 3, type: "explosive" },
      { x: 11, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 13, y: 5, type: "bonus", drop: "random" },
    ],
  },
  30: {
    id: "w4-n3",
    name: "Monde 4 - Niveau 3",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 6, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 2, type: "malus" },
      { x: 8, y: 2, type: "explosive" },
      { x: 9, y: 2, type: "armor", hp: 2 },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "malus" },
      { x: 12, y: 2, type: "explosive" },
      { x: 13, y: 2, type: "malus" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "armor", hp: 2 },
      { x: 16, y: 2, type: "explosive" },
      { x: 17, y: 2, type: "malus" },
      { x: 18, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 3, type: "malus" },
      { x: 9, y: 3, type: "explosive" },
      { x: 10, y: 3, type: "armor", hp: 3 },
      { x: 12, y: 3, type: "armor", hp: 3 },
      { x: 14, y: 3, type: "armor", hp: 3 },
      { x: 15, y: 3, type: "explosive" },
      { x: 16, y: 3, type: "malus" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "explosive" },
    ],
  },
  31: {
    id: "w4-n4",
    name: "Monde 4 - Niveau 4",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 2 },
      { x: 6, y: 2, type: "normal" },
      { x: 7, y: 2, type: "malus" },
      { x: 8, y: 2, type: "explosive" },
      { x: 9, y: 2, type: "armor", hp: 3 },
      { x: 10, y: 2, type: "normal" },
      { x: 11, y: 2, type: "malus" },
      { x: 12, y: 2, type: "explosive" },
      { x: 13, y: 2, type: "malus" },
      { x: 14, y: 2, type: "normal" },
      { x: 15, y: 2, type: "armor", hp: 3 },
      { x: 16, y: 2, type: "explosive" },
      { x: 17, y: 2, type: "malus" },
      { x: 18, y: 2, type: "normal" },
      { x: 19, y: 2, type: "armor", hp: 2 },
      { x: 7, y: 3, type: "explosive" },
      { x: 9, y: 3, type: "armor", hp: 3 },
      { x: 11, y: 3, type: "explosive" },
      { x: 13, y: 3, type: "explosive" },
      { x: 15, y: 3, type: "armor", hp: 3 },
      { x: 17, y: 3, type: "explosive" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 11, y: 5, type: "bonus", drop: "random" },
      { x: 13, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "malus" },
    ],
  },
  32: {
    id: "w4-n5",
    name: "Monde 4 - Niveau 5",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 6, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 2, type: "malus" },
      { x: 8, y: 2, type: "explosive" },
      { x: 9, y: 2, type: "armor", hp: 3 },
      { x: 10, y: 2, type: "malus" },
      { x: 11, y: 2, type: "explosive" },
      { x: 12, y: 2, type: "normal" },
      { x: 13, y: 2, type: "explosive" },
      { x: 14, y: 2, type: "malus" },
      { x: 15, y: 2, type: "armor", hp: 3 },
      { x: 16, y: 2, type: "explosive" },
      { x: 17, y: 2, type: "malus" },
      { x: 18, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 3, type: "explosive" },
      { x: 9, y: 3, type: "armor", hp: 3 },
      { x: 10, y: 3, type: "malus" },
      { x: 11, y: 3, type: "explosive" },
      { x: 13, y: 3, type: "explosive" },
      { x: 14, y: 3, type: "malus" },
      { x: 15, y: 3, type: "armor", hp: 3 },
      { x: 16, y: 3, type: "explosive" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "explosive" },
    ],
  },
  33: {
    id: "w4-n6",
    name: "Monde 4 - Niveau 6",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 3 },
      { x: 6, y: 2, type: "malus" },
      { x: 7, y: 2, type: "explosive" },
      { x: 8, y: 2, type: "armor", hp: 3 },
      { x: 9, y: 2, type: "malus" },
      { x: 10, y: 2, type: "explosive" },
      { x: 11, y: 2, type: "armor", hp: 2 },
      { x: 12, y: 2, type: "malus" },
      { x: 13, y: 2, type: "armor", hp: 2 },
      { x: 14, y: 2, type: "explosive" },
      { x: 15, y: 2, type: "malus" },
      { x: 16, y: 2, type: "armor", hp: 3 },
      { x: 17, y: 2, type: "explosive" },
      { x: 18, y: 2, type: "malus" },
      { x: 19, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 3, type: "explosive" },
      { x: 8, y: 3, type: "armor", hp: 3 },
      { x: 10, y: 3, type: "explosive" },
      { x: 12, y: 3, type: "bonus", drop: "random" },
      { x: 14, y: 3, type: "explosive" },
      { x: 16, y: 3, type: "armor", hp: 3 },
      { x: 17, y: 3, type: "explosive" },
      { x: 11, y: 5, type: "bonus", drop: "random" },
      { x: 13, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "malus" },
    ],
  },
  34: {
    id: "w4-n7",
    name: "Monde 4 - Niveau 7",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 6, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 2, type: "malus" },
      { x: 8, y: 2, type: "explosive" },
      { x: 9, y: 2, type: "armor", hp: 3 },
      { x: 10, y: 2, type: "malus" },
      { x: 11, y: 2, type: "explosive" },
      { x: 12, y: 2, type: "armor", hp: 3 },
      { x: 13, y: 2, type: "explosive" },
      { x: 14, y: 2, type: "malus" },
      { x: 15, y: 2, type: "armor", hp: 3 },
      { x: 16, y: 2, type: "explosive" },
      { x: 17, y: 2, type: "malus" },
      { x: 18, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 3, type: "explosive" },
      { x: 9, y: 3, type: "armor", hp: 3 },
      { x: 10, y: 3, type: "malus" },
      { x: 11, y: 3, type: "explosive" },
      { x: 13, y: 3, type: "explosive" },
      { x: 14, y: 3, type: "malus" },
      { x: 15, y: 3, type: "armor", hp: 3 },
      { x: 16, y: 3, type: "explosive" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 11, y: 5, type: "bonus", drop: "random" },
      { x: 13, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "malus" },
    ],
  },
  35: {
    id: "w4-n8",
    name: "Monde 4 - Niveau 8",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 3 },
      { x: 6, y: 2, type: "malus" },
      { x: 7, y: 2, type: "explosive" },
      { x: 8, y: 2, type: "armor", hp: 3 },
      { x: 9, y: 2, type: "malus" },
      { x: 10, y: 2, type: "explosive" },
      { x: 11, y: 2, type: "armor", hp: 3 },
      { x: 12, y: 2, type: "malus" },
      { x: 13, y: 2, type: "armor", hp: 3 },
      { x: 14, y: 2, type: "explosive" },
      { x: 15, y: 2, type: "malus" },
      { x: 16, y: 2, type: "armor", hp: 3 },
      { x: 17, y: 2, type: "explosive" },
      { x: 18, y: 2, type: "malus" },
      { x: 19, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 3, type: "explosive" },
      { x: 8, y: 3, type: "armor", hp: 3 },
      { x: 9, y: 3, type: "malus" },
      { x: 10, y: 3, type: "explosive" },
      { x: 11, y: 3, type: "armor", hp: 3 },
      { x: 13, y: 3, type: "armor", hp: 3 },
      { x: 14, y: 3, type: "explosive" },
      { x: 15, y: 3, type: "malus" },
      { x: 16, y: 3, type: "armor", hp: 3 },
      { x: 17, y: 3, type: "explosive" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "explosive" },
    ],
  },
  36: {
    id: "w4-n9-boss",
    name: "Monde 4 - Niveau 9 (Boss Instabilite)",
    width: 25,
    height: 20,
    boss: true,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 3 },
      { x: 6, y: 2, type: "malus" },
      { x: 7, y: 2, type: "explosive" },
      { x: 8, y: 2, type: "armor", hp: 3 },
      { x: 9, y: 2, type: "malus" },
      { x: 10, y: 2, type: "explosive" },
      { x: 11, y: 2, type: "armor", hp: 3 },
      { x: 12, y: 2, type: "malus" },
      { x: 13, y: 2, type: "armor", hp: 3 },
      { x: 14, y: 2, type: "explosive" },
      { x: 15, y: 2, type: "malus" },
      { x: 16, y: 2, type: "armor", hp: 3 },
      { x: 17, y: 2, type: "explosive" },
      { x: 18, y: 2, type: "malus" },
      { x: 19, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 3, type: "explosive" },
      { x: 8, y: 3, type: "armor", hp: 3 },
      { x: 9, y: 3, type: "malus" },
      { x: 10, y: 3, type: "explosive" },
      { x: 11, y: 3, type: "armor", hp: 3 },
      { x: 12, y: 3, type: "bonus", drop: "random" },
      { x: 13, y: 3, type: "armor", hp: 3 },
      { x: 14, y: 3, type: "explosive" },
      { x: 15, y: 3, type: "malus" },
      { x: 16, y: 3, type: "armor", hp: 3 },
      { x: 17, y: 3, type: "explosive" },
      { x: 9, y: 4, type: "malus" },
      { x: 10, y: 4, type: "explosive" },
      { x: 11, y: 4, type: "armor", hp: 3 },
      { x: 12, y: 4, type: "bonus", drop: "random" },
      { x: 13, y: 4, type: "armor", hp: 3 },
      { x: 14, y: 4, type: "explosive" },
      { x: 15, y: 4, type: "malus" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 11, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "armor", hp: 3 },
      { x: 13, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "explosive" },
    ],
  },
  37: {
    id: "w5-n1",
    name: "Monde 5 - Niveau 1",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 6, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 2, type: "normal" },
      { x: 8, y: 2, type: "malus" },
      { x: 9, y: 2, type: "explosive" },
      { x: 10, y: 2, type: "armor", hp: 3 },
      { x: 11, y: 2, type: "normal" },
      { x: 12, y: 2, type: "armor", hp: 2 },
      { x: 13, y: 2, type: "normal" },
      { x: 14, y: 2, type: "armor", hp: 3 },
      { x: 15, y: 2, type: "explosive" },
      { x: 16, y: 2, type: "malus" },
      { x: 17, y: 2, type: "normal" },
      { x: 18, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 3, type: "normal" },
      { x: 9, y: 3, type: "armor", hp: 3 },
      { x: 10, y: 3, type: "explosive" },
      { x: 11, y: 3, type: "malus" },
      { x: 12, y: 3, type: "normal" },
      { x: 13, y: 3, type: "malus" },
      { x: 14, y: 3, type: "explosive" },
      { x: 15, y: 3, type: "armor", hp: 3 },
      { x: 16, y: 3, type: "normal" },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "armor", hp: 3 },
    ],
  },
  38: {
    id: "w5-n2",
    name: "Monde 5 - Niveau 2",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 3 },
      { x: 6, y: 2, type: "explosive" },
      { x: 7, y: 2, type: "malus" },
      { x: 8, y: 2, type: "armor", hp: 3 },
      { x: 9, y: 2, type: "normal" },
      { x: 10, y: 2, type: "armor", hp: 3 },
      { x: 11, y: 2, type: "malus" },
      { x: 12, y: 2, type: "explosive" },
      { x: 13, y: 2, type: "armor", hp: 3 },
      { x: 14, y: 2, type: "malus" },
      { x: 15, y: 2, type: "armor", hp: 3 },
      { x: 16, y: 2, type: "normal" },
      { x: 17, y: 2, type: "armor", hp: 3 },
      { x: 18, y: 2, type: "malus" },
      { x: 19, y: 2, type: "explosive" },
      { x: 6, y: 3, type: "normal" },
      { x: 8, y: 3, type: "armor", hp: 2 },
      { x: 10, y: 3, type: "explosive" },
      { x: 12, y: 3, type: "armor", hp: 2 },
      { x: 14, y: 3, type: "explosive" },
      { x: 16, y: 3, type: "armor", hp: 2 },
      { x: 18, y: 3, type: "normal" },
      { x: 9, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 15, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "malus" },
      { x: 11, y: 7, type: "explosive" },
      { x: 13, y: 7, type: "explosive" },
    ],
  },
  39: {
    id: "w5-n3",
    name: "Monde 5 - Niveau 3",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 7, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 2, type: "malus" },
      { x: 9, y: 2, type: "explosive" },
      { x: 10, y: 2, type: "armor", hp: 3 },
      { x: 11, y: 2, type: "explosive" },
      { x: 12, y: 2, type: "armor", hp: 2 },
      { x: 13, y: 2, type: "explosive" },
      { x: 14, y: 2, type: "armor", hp: 3 },
      { x: 15, y: 2, type: "explosive" },
      { x: 16, y: 2, type: "malus" },
      { x: 17, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 3, type: "normal" },
      { x: 9, y: 3, type: "armor", hp: 2 },
      { x: 10, y: 3, type: "malus" },
      { x: 11, y: 3, type: "explosive" },
      { x: 12, y: 3, type: "armor", hp: 3 },
      { x: 13, y: 3, type: "explosive" },
      { x: 14, y: 3, type: "malus" },
      { x: 15, y: 3, type: "armor", hp: 2 },
      { x: 16, y: 3, type: "normal" },
      { x: 9, y: 4, type: "armor", hp: 3 },
      { x: 10, y: 4, type: "explosive" },
      { x: 11, y: 4, type: "malus" },
      { x: 12, y: 4, type: "armor", hp: 3 },
      { x: 13, y: 4, type: "malus" },
      { x: 14, y: 4, type: "explosive" },
      { x: 15, y: 4, type: "armor", hp: 3 },
      { x: 10, y: 6, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "bonus", drop: "random" },
      { x: 14, y: 6, type: "bonus", drop: "random" },
    ],
  },
  40: {
    id: "w5-n4",
    name: "Monde 5 - Niveau 4",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 4, y: 2, type: "armor", hp: 3 },
      { x: 5, y: 2, type: "malus" },
      { x: 6, y: 2, type: "explosive" },
      { x: 7, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 2, type: "malus" },
      { x: 9, y: 2, type: "armor", hp: 3 },
      { x: 10, y: 2, type: "explosive" },
      { x: 11, y: 2, type: "malus" },
      { x: 12, y: 2, type: "armor", hp: 3 },
      { x: 13, y: 2, type: "malus" },
      { x: 14, y: 2, type: "explosive" },
      { x: 15, y: 2, type: "armor", hp: 3 },
      { x: 16, y: 2, type: "malus" },
      { x: 17, y: 2, type: "armor", hp: 3 },
      { x: 18, y: 2, type: "explosive" },
      { x: 19, y: 2, type: "malus" },
      { x: 20, y: 2, type: "armor", hp: 3 },
      { x: 6, y: 3, type: "armor", hp: 2 },
      { x: 8, y: 3, type: "explosive" },
      { x: 10, y: 3, type: "armor", hp: 2 },
      { x: 12, y: 3, type: "explosive" },
      { x: 14, y: 3, type: "armor", hp: 2 },
      { x: 16, y: 3, type: "explosive" },
      { x: 18, y: 3, type: "armor", hp: 2 },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 11, y: 6, type: "malus" },
      { x: 13, y: 6, type: "malus" },
    ],
  },
  41: {
    id: "w5-n5",
    name: "Monde 5 - Niveau 5",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 6, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 2, type: "explosive" },
      { x: 8, y: 2, type: "malus" },
      { x: 9, y: 2, type: "armor", hp: 3 },
      { x: 10, y: 2, type: "explosive" },
      { x: 11, y: 2, type: "malus" },
      { x: 12, y: 2, type: "armor", hp: 3 },
      { x: 13, y: 2, type: "malus" },
      { x: 14, y: 2, type: "explosive" },
      { x: 15, y: 2, type: "armor", hp: 3 },
      { x: 16, y: 2, type: "malus" },
      { x: 17, y: 2, type: "explosive" },
      { x: 18, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 3, type: "armor", hp: 2 },
      { x: 8, y: 3, type: "malus" },
      { x: 9, y: 3, type: "explosive" },
      { x: 10, y: 3, type: "armor", hp: 2 },
      { x: 11, y: 3, type: "malus" },
      { x: 12, y: 3, type: "explosive" },
      { x: 13, y: 3, type: "armor", hp: 2 },
      { x: 14, y: 3, type: "explosive" },
      { x: 15, y: 3, type: "malus" },
      { x: 16, y: 3, type: "armor", hp: 2 },
      { x: 8, y: 4, type: "explosive" },
      { x: 10, y: 4, type: "malus" },
      { x: 12, y: 4, type: "armor", hp: 3 },
      { x: 14, y: 4, type: "malus" },
      { x: 16, y: 4, type: "explosive" },
      { x: 10, y: 6, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "bonus", drop: "random" },
      { x: 14, y: 6, type: "bonus", drop: "random" },
    ],
  },
  42: {
    id: "w5-n6",
    name: "Monde 5 - Niveau 6",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 3 },
      { x: 6, y: 2, type: "malus" },
      { x: 7, y: 2, type: "explosive" },
      { x: 8, y: 2, type: "armor", hp: 3 },
      { x: 9, y: 2, type: "malus" },
      { x: 10, y: 2, type: "explosive" },
      { x: 11, y: 2, type: "armor", hp: 3 },
      { x: 12, y: 2, type: "explosive" },
      { x: 13, y: 2, type: "armor", hp: 3 },
      { x: 14, y: 2, type: "explosive" },
      { x: 15, y: 2, type: "armor", hp: 3 },
      { x: 16, y: 2, type: "explosive" },
      { x: 17, y: 2, type: "armor", hp: 3 },
      { x: 18, y: 2, type: "malus" },
      { x: 19, y: 2, type: "explosive" },
      { x: 8, y: 3, type: "armor", hp: 3 },
      { x: 9, y: 3, type: "explosive" },
      { x: 10, y: 3, type: "malus" },
      { x: 11, y: 3, type: "armor", hp: 3 },
      { x: 12, y: 3, type: "explosive" },
      { x: 13, y: 3, type: "armor", hp: 3 },
      { x: 14, y: 3, type: "malus" },
      { x: 15, y: 3, type: "explosive" },
      { x: 16, y: 3, type: "armor", hp: 3 },
      { x: 10, y: 5, type: "bonus", drop: "random" },
      { x: 11, y: 5, type: "bonus", drop: "random" },
      { x: 13, y: 5, type: "bonus", drop: "random" },
      { x: 14, y: 5, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "malus" },
      { x: 12, y: 7, type: "explosive" },
    ],
  },
  43: {
    id: "w5-n7",
    name: "Monde 5 - Niveau 7",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 6, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 2, type: "malus" },
      { x: 8, y: 2, type: "explosive" },
      { x: 9, y: 2, type: "armor", hp: 3 },
      { x: 10, y: 2, type: "malus" },
      { x: 11, y: 2, type: "explosive" },
      { x: 12, y: 2, type: "armor", hp: 3 },
      { x: 13, y: 2, type: "explosive" },
      { x: 14, y: 2, type: "malus" },
      { x: 15, y: 2, type: "armor", hp: 3 },
      { x: 16, y: 2, type: "explosive" },
      { x: 17, y: 2, type: "malus" },
      { x: 18, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 3, type: "explosive" },
      { x: 9, y: 3, type: "armor", hp: 2 },
      { x: 10, y: 3, type: "malus" },
      { x: 11, y: 3, type: "explosive" },
      { x: 12, y: 3, type: "armor", hp: 3 },
      { x: 13, y: 3, type: "explosive" },
      { x: 14, y: 3, type: "malus" },
      { x: 15, y: 3, type: "armor", hp: 2 },
      { x: 16, y: 3, type: "explosive" },
      { x: 9, y: 4, type: "armor", hp: 3 },
      { x: 10, y: 4, type: "explosive" },
      { x: 11, y: 4, type: "malus" },
      { x: 12, y: 4, type: "armor", hp: 3 },
      { x: 13, y: 4, type: "malus" },
      { x: 14, y: 4, type: "explosive" },
      { x: 15, y: 4, type: "armor", hp: 3 },
      { x: 10, y: 6, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "bonus", drop: "random" },
      { x: 14, y: 6, type: "bonus", drop: "random" },
      { x: 12, y: 7, type: "explosive" },
    ],
  },
  44: {
    id: "w5-n8",
    name: "Monde 5 - Niveau 8",
    width: 25,
    height: 20,
    boss: false,
    bricks: [
      { x: 5, y: 2, type: "armor", hp: 3 },
      { x: 6, y: 2, type: "malus" },
      { x: 7, y: 2, type: "explosive" },
      { x: 8, y: 2, type: "armor", hp: 3 },
      { x: 9, y: 2, type: "malus" },
      { x: 10, y: 2, type: "explosive" },
      { x: 11, y: 2, type: "armor", hp: 3 },
      { x: 12, y: 2, type: "malus" },
      { x: 13, y: 2, type: "armor", hp: 3 },
      { x: 14, y: 2, type: "explosive" },
      { x: 15, y: 2, type: "malus" },
      { x: 16, y: 2, type: "armor", hp: 3 },
      { x: 17, y: 2, type: "explosive" },
      { x: 18, y: 2, type: "malus" },
      { x: 19, y: 2, type: "armor", hp: 3 },
      { x: 7, y: 3, type: "armor", hp: 3 },
      { x: 8, y: 3, type: "explosive" },
      { x: 9, y: 3, type: "malus" },
      { x: 10, y: 3, type: "armor", hp: 3 },
      { x: 11, y: 3, type: "explosive" },
      { x: 12, y: 3, type: "malus" },
      { x: 13, y: 3, type: "explosive" },
      { x: 14, y: 3, type: "armor", hp: 3 },
      { x: 15, y: 3, type: "malus" },
      { x: 16, y: 3, type: "explosive" },
      { x: 17, y: 3, type: "armor", hp: 3 },
      { x: 9, y: 4, type: "explosive" },
      { x: 10, y: 4, type: "armor", hp: 3 },
      { x: 11, y: 4, type: "malus" },
      { x: 12, y: 4, type: "armor", hp: 3 },
      { x: 13, y: 4, type: "malus" },
      { x: 14, y: 4, type: "armor", hp: 3 },
      { x: 15, y: 4, type: "explosive" },
      { x: 10, y: 6, type: "bonus", drop: "random" },
      { x: 11, y: 6, type: "bonus", drop: "random" },
      { x: 13, y: 6, type: "bonus", drop: "random" },
      { x: 14, y: 6, type: "bonus", drop: "random" },
      { x: 12, y: 7, type: "malus" },
    ],
  },
  45: {
    id: "w5-n9-boss",
    name: "Monde 5 - Niveau 9 (Boss Apex Core)",
    width: 25,
    height: 20,
    boss: true,
    bricks: [
      { x: 4, y: 2, type: "armor", hp: 3 },
      { x: 5, y: 2, type: "malus" },
      { x: 6, y: 2, type: "explosive" },
      { x: 7, y: 2, type: "armor", hp: 3 },
      { x: 8, y: 2, type: "malus" },
      { x: 9, y: 2, type: "explosive" },
      { x: 10, y: 2, type: "armor", hp: 3 },
      { x: 11, y: 2, type: "malus" },
      { x: 12, y: 2, type: "armor", hp: 3 },
      { x: 13, y: 2, type: "malus" },
      { x: 14, y: 2, type: "armor", hp: 3 },
      { x: 15, y: 2, type: "explosive" },
      { x: 16, y: 2, type: "malus" },
      { x: 17, y: 2, type: "armor", hp: 3 },
      { x: 18, y: 2, type: "explosive" },
      { x: 19, y: 2, type: "malus" },
      { x: 20, y: 2, type: "armor", hp: 3 },
      { x: 6, y: 3, type: "explosive" },
      { x: 7, y: 3, type: "armor", hp: 3 },
      { x: 8, y: 3, type: "malus" },
      { x: 9, y: 3, type: "explosive" },
      { x: 10, y: 3, type: "armor", hp: 3 },
      { x: 11, y: 3, type: "malus" },
      { x: 12, y: 3, type: "explosive" },
      { x: 13, y: 3, type: "malus" },
      { x: 14, y: 3, type: "explosive" },
      { x: 15, y: 3, type: "armor", hp: 3 },
      { x: 16, y: 3, type: "malus" },
      { x: 17, y: 3, type: "explosive" },
      { x: 18, y: 3, type: "armor", hp: 3 },
      { x: 8, y: 4, type: "armor", hp: 3 },
      { x: 9, y: 4, type: "explosive" },
      { x: 10, y: 4, type: "malus" },
      { x: 11, y: 4, type: "armor", hp: 3 },
      { x: 12, y: 4, type: "armor", hp: 3 },
      { x: 13, y: 4, type: "armor", hp: 3 },
      { x: 14, y: 4, type: "malus" },
      { x: 15, y: 4, type: "explosive" },
      { x: 16, y: 4, type: "armor", hp: 3 },
      { x: 10, y: 5, type: "explosive" },
      { x: 11, y: 5, type: "armor", hp: 3 },
      { x: 12, y: 5, type: "armor", hp: 3 },
      { x: 13, y: 5, type: "armor", hp: 3 },
      { x: 14, y: 5, type: "explosive" },
      { x: 10, y: 6, type: "bonus", drop: "random" },
      { x: 11, y: 6, type: "bonus", drop: "random" },
      { x: 12, y: 6, type: "explosive" },
      { x: 13, y: 6, type: "bonus", drop: "random" },
      { x: 14, y: 6, type: "bonus", drop: "random" },
      { x: 12, y: 7, type: "armor", hp: 3 },
    ],
  },
};

export function getCampaignLevel(levelIndex: number): BrickfallLevel {
  const idx = clamp(levelIndex, 1, CAMPAIGN_TOTAL_LEVELS);
  const manual = MANUAL_CAMPAIGN_LEVELS[idx];
  if (manual) {
    const normalized = normalizeBrickfallLevel(manual);
    if (idx >= 10 && idx <= 18) {
      return rebalanceWorld2Level(normalized, idx - 9);
    }
    return normalized;
  }
  return defaultGeneratedCampaignLevel(idx);
}
